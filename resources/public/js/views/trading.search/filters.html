<div class='section'>
    <ui-state id='activeTab' default='1'></ui-state>

    <div class="btn-group justified nav-tabs">
        <a ui-set="{'activeTab': 1}" 
            ui-class="{'active': activeTab == 1}" class="btn btn-default">Commodities</a>

        <a ui-set="{'activeTab': 2}" 
                ui-class="{'active': activeTab == 2}" class="btn btn-default">Services</a>

        <a ui-set="{'activeTab': 3}" 
                ui-class="{'active': activeTab == 3}" class="btn btn-default">Environment</a>
    </div>  

    <div ui-if="activeTab == 1">
        <!-- Commodity search -->
        <div class="form-group">
            <label>Commodity</label>
            <select ng-model="data.selectedCommodity" ng-options="comm.name for comm in validCommodities" class="form-control">
                <option value="">-- Any Commodities --</option>
            </select>
        </div>

        <div ng-show="data.selectedCommodity" class="form-group">
            <label>Station is:</label>
            <div class="btn-group">
                <a href class="btn btn-default" ui-turn-on='buying' ui-state='buying' ng-class="{'active': form['search-type'] == 'buying'}" ui-exclusion-group='searchType' ng-click="form['search-type'] = 'buying'">Buying</a>
                <a href class="btn btn-default" ui-turn-on='searchSelling' ui-state='searchSelling' ng-class="{'active': form['search-type'] == 'selling'}" ui-exclusion-group='searchType' ng-click="form['search-type'] = 'selling'">Selling</a>
            </div>

            <!-- convenience to clear -->
            <a href="" ng-click="data.selectedCommodity=null" class='btn'>&times; Clear</a>
        </div>
    </div>

    <div ui-if="activeTab == 2">
        <!-- Services selection -->
        <div class="form-group">
            <label>Blackmarket</label>
            <ui-switch ng-model="form['has-blackmarket']"></ui-switch>
        </div>
        <div class="form-group">
            <label>Outfitting</label>
            <ui-switch ng-model="form['has-outfitting']"></ui-switch>
        </div>
        <div class="form-group">
            <label>Shipyard</label>
            <ui-switch ng-model="form['has-shipyard']"></ui-switch>
        </div>
        <div class="form-group">
            <label>Rearm</label>
            <ui-switch ng-model="form['has-rearm']"></ui-switch>
        </div>
        <div class="form-group">
            <label>Refuel</label>
            <ui-switch ng-model="form['has-refuel']"></ui-switch>
        </div>
        <div class="form-group">
            <label>Repairs</label>
            <ui-switch ng-model="form['has-repairs']"></ui-switch>
        </div>                
    </div>

    <div ui-if="activeTab == 3">
        <!-- Environment selection -->
        <div class="form-group">
            <label>Allegiance</label>
            <select ng-model="data.selectedAllegiance" ng-options="a.name for a in validAllegiances" class="form-control">
                <option value="">-- Any Allegiance --</option>
            </select>
        </div>

        <div class="form-group">
            <label>Government</label>
            <select ng-model="data.selectedGovernment" ng-options="a.name for a in validGovernments" class="form-control">
                <option value="">-- Any Government --</option>
            </select>
        </div>

        <div class="form-group">
            <label>Economy</label>
            <select ng-model="data.selectedEconomy" ng-options="a.name for a in validEconomies" class="form-control">
                <option value="">-- Any Economy --</option>
            </select>
        </div>
    </div>
</div>
